(function(){tinymce.create('tinymce.plugins.InsertMedia',{init:function(ed,url){tinymce.DOM.add(document.body,'div',{id:'my_editbtns',style:'display:none;'});tinymce.DOM.add("my_editbtns","img",{id:'my_insert',src:url+'/img/example.gif',width:'24',height:'24',cmd:'mceExample',title:"插入媒体文件"});tinymce.dom.Event.add("my_insert",'click',function(e){alert("img is click")});ed.onInit.add(function(ed){ed.dom.events.add(ed.getBody(),"click",function(e){console.log("click");if(e.target.nodeName=="IMG"){tinymce.DOM.setStyles("my_editbtns",{'top':'200px','left':'200px','display':'block'})}})})},getInfo:function(){return{longname:'insertMedia plugin',author:'Some author',authorurl:'http://tinymce.moxiecode.com',infourl:'http://wiki.moxiecode.com/index.php/TinyMCE:Plugins/example',version:"1.0"}}});tinymce.PluginManager.add('insertMedia',tinymce.plugins.InsertMedia)})();